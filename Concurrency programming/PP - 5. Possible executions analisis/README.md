# Анализ возможных исполнений

В рамках данного задания вы проанализируете все возможные исполнения указанной ниже программы в модели чередования операций.

```java
shared int a = 0, b = 0

== Thread P: ==
while true:
  1: a = 1
  2: while b != 0: pass // do nothing
  3: // critical section
  4: a = 0

== Thread Q: ==
while true:
  1: b = 1
  2: if a == 0: break
  3: b = 0
4: stop
```

Чтения и записи разделяемых переменных *a* и *b* происходят атомарно.

## Задание

1. Нарисуйте диаграмму всех возможных различных состояний исполнения программы из двух потоков **P** и **Q** в модели чередования операций. Используйте нотацию, аналогичную той, которая была на лекции. 
2. Так как каждый поток может быть в одном из 4-х состояний, а переменные *a* и *b* в одном из 2-х состояний, то теоретически возможны 4 x 4 x 2 x 2 = 64 состояния. Сколько различных достижимых состояний у вас получилось?
3. Возможна ли ситуация, при которой поток **P** находится в состоянии *P3* (critical section) в то время, как поток **Q** находится в состоянии *Q4* (завершил выполнение)? Объясните ваше наблюдение.
4. Верно ли, что из любого состояние системы достижимо состояние *Q4*, при котором поток **Q** завершил выполнение? Поясните.

## Формат сдачи
Выполняйте задание в этом репозитории. Ответы на вопросы, включая нарисованную диаграмму, должны содержаться в файле [Solution.md](Solution.md). По готовности добавьте "+" в таблицу с оценками в столбец "Готово" текущего задания.

Дедлайн: 12.09.2017

## Оценки и лекции
Таблица с оценками доступна тут: [https://goo.gl/YZrm9Z]()

Лекции доступны на Google Drive: [https://goo.gl/VjKtdK]()
